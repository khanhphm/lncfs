{"version":3,"sources":["firebase.js","authModal.js","Views/Components/CommentInput.js","Views/Components/Comment.js","Views/Components/Post.js","Views/Components/Feed.js","Views/Components/Header.js","Views/Components/CreatePost.js","Views/Home.js","App.js","serviceWorker.js","index.js"],"names":["db","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","firestore","auth","storage","DialogContent","withStyles","theme","root","margin","padding","spacing","closeButton","position","right","top","color","palette","grey","props","children","classes","onClose","other","disableTypography","className","Typography","variant","IconButton","aria-label","onClick","MuiDialogContent","DialogActions","MuiDialogActions","AuthDialogs","label","useState","open","setOpen","handleClose","email","setEmail","password","setPassword","Button","Dialog","aria-labelledby","dividers","style","display","flexDirection","maxWidth","minWidth","TextField","placeholder","type","marginTop","value","onChange","e","target","autoFocus","event","preventDefault","signInWithEmailAndPassword","catch","error","alert","message","createUserWithEmailAndPassword","then","authUser","user","updateProfile","displayName","match","CommentInput","comments","id","comment","setComment","commentMap","rows","push","username","collection","doc","update","console","log","fontWeight","justifyContent","alignItems","Comment","Post","userName","postImageUrl","caption","fontSize","aria-controls","aria-haspopup","delete","src","map","Feed","posts","setPosts","useEffect","onSnapshot","snapshot","docs","post","data","key","userProfileUrl","Header","React","anchorEl","setAnchorEl","alt","Avatar","currentTarget","height","width","charAt","Menu","keepMounted","Boolean","MenuItem","signOut","CreatePost","setCaption","image","setImage","progress","setProgress","name","document","getElementById","CircularProgress","htmlFor","accept","files","src1","URL","createObjectURL","preview1","ref","put","on","Math","round","bytesTransferred","totalBytes","child","getDownloadURL","url","add","timestamp","FieldValue","serverTimestamp","toLowerCase","Home","setUser","unsubscribe","onAuthStateChanged","App","window","location","hostname","ReactDOM","render","StrictMode","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.8ca0b1ee.chunk.js","sourcesContent":["import firebase from \"firebase\";\r\n\r\nconst firebaseApp = firebase.initializeApp({\r\n  apiKey: \"AIzaSyDXoAh_QUB-N1OSNwf73K6qmMJbCyYAptQ\",\r\n  authDomain: \"social-net-58b1b.firebaseapp.com\",\r\n  databaseURL: \"https://social-net-58b1b.firebaseio.com\",\r\n  projectId: \"social-net-58b1b\",\r\n  storageBucket: \"social-net-58b1b.appspot.com\",\r\n  messagingSenderId: \"994549662084\",\r\n  appId: \"1:994549662084:web:e77ccead4c56c2271b1dd1\",\r\n});\r\n\r\nconst db = firebaseApp.firestore();\r\nconst auth = firebase.auth();\r\nconst storage = firebase.storage();\r\n\r\nexport { db, auth, storage };\r\n","import React, { useState } from \"react\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport MuiDialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport MuiDialogContent from \"@material-ui/core/DialogContent\";\r\nimport MuiDialogActions from \"@material-ui/core/DialogActions\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport CloseIcon from \"@material-ui/icons/Close\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport MuiAlert from \"@material-ui/lab/Alert\";\r\nimport { auth } from \"./firebase\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\n\r\nconst styles = (theme) => ({\r\n  root: {\r\n    margin: 0,\r\n    padding: theme.spacing(2),\r\n  },\r\n  closeButton: {\r\n    position: \"absolute\",\r\n    right: theme.spacing(1),\r\n    top: theme.spacing(1),\r\n    color: theme.palette.grey[500],\r\n  },\r\n});\r\n\r\nconst DialogTitle = withStyles(styles)((props) => {\r\n  const { children, classes, onClose, ...other } = props;\r\n  return (\r\n    <MuiDialogTitle disableTypography className={classes.root} {...other}>\r\n      <Typography variant=\"h6\">{children}</Typography>\r\n      {onClose ? (\r\n        <IconButton\r\n          aria-label=\"close\"\r\n          className={classes.closeButton}\r\n          onClick={onClose}\r\n        >\r\n          <CloseIcon />\r\n        </IconButton>\r\n      ) : null}\r\n    </MuiDialogTitle>\r\n  );\r\n});\r\n\r\nconst DialogContent = withStyles((theme) => ({\r\n  root: {\r\n    padding: theme.spacing(2),\r\n  },\r\n}))(MuiDialogContent);\r\n\r\nconst DialogActions = withStyles((theme) => ({\r\n  root: {\r\n    margin: 0,\r\n    padding: theme.spacing(1),\r\n  },\r\n}))(MuiDialogActions);\r\n\r\nexport default function AuthDialogs({ label }) {\r\n  const [open, setOpen] = useState(false);\r\n  //   const [openSnack, setOpenSnack] = useState(false);\r\n  //   const [snackLabel, setSnackLabel] = useState(\"\");\r\n\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  //By Me\r\n\r\n  function Alert(props) {\r\n    return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\r\n  }\r\n\r\n  const LogIn = (event) => {\r\n    event.preventDefault();\r\n    auth\r\n      .signInWithEmailAndPassword(email, password)\r\n      .catch((error) => alert(error.message));\r\n\r\n    // close when done.\r\n    handleClose();\r\n  };\r\n\r\n  //   function showSnack(message) {\r\n  //     setSnackLabel(message);\r\n  //     setOpenSnack(true);\r\n  //   }\r\n\r\n  const SignUp = (event) => {\r\n    event.preventDefault();\r\n    auth\r\n      .createUserWithEmailAndPassword(email, password)\r\n      .then((authUser) => {\r\n        authUser.user.updateProfile({\r\n          displayName: `${email.match(/^([^@]*)@/)[1]}`,\r\n        });\r\n      })\r\n      .catch((error) => alert(error.message));\r\n\r\n    // close when done.\r\n    handleClose();\r\n  };\r\n\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n\r\n  return (\r\n    <div>\r\n      <Button onClick={handleClickOpen}>{label}</Button>\r\n      <Dialog\r\n        onClose={handleClose}\r\n        aria-labelledby=\"customized-dialog-title\"\r\n        open={open}\r\n      >\r\n        <DialogContent dividers>\r\n          <div\r\n            style={{\r\n              display: \"flex\",\r\n              flexDirection: \"column\",\r\n              maxWidth: \"400px\",\r\n              minWidth: \"300px\",\r\n            }}\r\n          >\r\n            <TextField\r\n              variant=\"outlined\"\r\n              placeholder=\"Email\"\r\n              type=\"text\"\r\n              style={{ marginTop: \"30px\" }}\r\n              value={email}\r\n              onChange={(e) => setEmail(e.target.value)}\r\n            />\r\n            <TextField\r\n              variant=\"outlined\"\r\n              placeholder=\"Password\"\r\n              type=\"password\"\r\n              value={password}\r\n              style={{ marginTop: \"20px\" }}\r\n              onChange={(e) => setPassword(e.target.value)}\r\n            />\r\n          </div>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button autoFocus type=\"submit\" onClick={LogIn}>\r\n            Đăng Nhập\r\n          </Button>\r\n          <Button autoFocus type=\"submit\" onClick={SignUp} color=\"primary\">\r\n            Đăng Ký\r\n          </Button>\r\n        </DialogActions>\r\n        {/* <Snackbar\r\n          open={openSnack}\r\n          autoHideDuration={6000}\r\n          onClose={handleClose}\r\n        >\r\n          <Alert onClose={handleClose} severity=\"success\">\r\n            {snackLabel}\r\n          </Alert>\r\n        </Snackbar> */}\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\r\nimport \"./CommentInput.css\";\r\nimport { db } from \"../../firebase\";\r\nimport AuthDialogs from \"../../authModal\";\r\n\r\nfunction CommentInput({ comments, id, user }) {\r\n  const [comment, setComment] = useState(\"\");\r\n  const [commentMap, setcommentMap] = useState(comments ? comments : []);\r\n\r\n  const addComment = () => {\r\n    // Add a new document in collection \"cities\"\r\n\r\n    commentMap.push({\r\n      comment: comment,\r\n      username: user.displayName,\r\n    });\r\n\r\n    db.collection(\"posts\")\r\n      .doc(id)\r\n      .update({\r\n        comments: commentMap,\r\n      })\r\n      .then(function () {\r\n        console.log(\"Document successfully written!\");\r\n      })\r\n      .catch(function (error) {\r\n        console.error(\"Error writing document: \", error);\r\n      });\r\n\r\n    setComment(\"\");\r\n  };\r\n\r\n  return (\r\n    <div >\r\n    {user ? (\r\n      <div className=\"commentInput\">\r\n       \r\n      <textarea\r\n        rows=\"1\"\r\n        value={comment}\r\n        onChange={(e) => setComment(e.target.value)}\r\n        className=\"commentInput__textarea\"\r\n        placeholder=\"Add a comment..\"\r\n      ></textarea>\r\n\r\n      <button\r\n        onClick={addComment}\r\n        className=\"button commentInput__button\"\r\n        style={{\r\n          color: comment ? \"gray\" : \"lightgrey\",\r\n          fontWeight: comment ? \"600\" : \"500\",\r\n        }}\r\n      >\r\n        Post\r\n      </button>\r\n      </div>\r\n      \r\n    ) : (\r\n      <div\r\n          style={{\r\n            marginTop: \"30px\",\r\n            display: \"flex\",\r\n            flexDirection: \"row\",\r\n            justifyContent: \"center\",\r\n            alignItems: \"center\",\r\n          }}\r\n        >\r\n          <AuthDialogs label=\"Đăng Nhập/Đăng ký\" />\r\n          <p>để viết Comment</p>\r\n      </div>\r\n    )}\r\n\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default CommentInput;\r\n","import React from \"react\";\r\nimport \"./Comment.css\";\r\n\r\nfunction Comment({ username, comment }) {\r\n  return (\r\n    <div className=\"comment\">\r\n      <p>\r\n        <strong>{username}</strong> {comment}\r\n      </p>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Comment;\r\n","import React from \"react\";\r\nimport \"./Post.css\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport { db } from \"../../firebase\";\r\nimport CommentInput from \"./CommentInput\";\r\nimport Comment from \"./Comment\";\r\n\r\nfunction Post({ id, userName, postImageUrl, caption, comments, user }) {\r\n  const deletePost = () => {\r\n    //delete post\r\n    db.collection(\"posts\")\r\n      .doc(id)\r\n      .delete()\r\n      .then(function () {\r\n        console.log(\"Document successfully deleted!\");\r\n      })\r\n      .catch(function (error) {\r\n        console.error(\"Error removing document: \", error);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div className=\"post\">\r\n      <div className=\"post__header\">\r\n        <div\r\n          style={{\r\n            display: \"flex\",\r\n            flexDirection: \"row\",\r\n            alignItems: \"center\",\r\n          }}\r\n        >\r\n          <div className=\"post__headerInfo\">\r\n            <strong style={{ fontSize: \"14px\" }}>CONFESSION</strong>\r\n          </div>\r\n        </div>\r\n\r\n        {user ? (\r\n          user.displayName === userName ? (\r\n            <button\r\n              className=\"button\"\r\n              aria-controls=\"simple-menu\"\r\n              aria-haspopup=\"true\"\r\n              onClick={deletePost}\r\n            >\r\n              Delete\r\n            </button>\r\n          ) : (\r\n            <></>\r\n          )\r\n        ) : (\r\n          <></>\r\n        )}\r\n      </div>\r\n      {/* headr --> avatar + username + time */}\r\n\r\n      {/* image */}\r\n      <img className=\"post__image\" src={postImageUrl} />\r\n\r\n      {/* username + caption */}\r\n      <div className=\"post__bottom\">\r\n        <p>\r\n          <strong>CFS: </strong> <br /> {caption}\r\n        </p>\r\n      </div>\r\n      {comments ? (\r\n        comments.map((comment) => (\r\n          <Comment username={comment.username} comment={comment.comment} />\r\n        ))\r\n      ) : (\r\n        <></>\r\n      )}\r\n      <CommentInput comments={comments} id={id} user={user} />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Post;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Post from \"./Post\";\r\nimport { db } from \"../../firebase\";\r\nimport \"./Feed.css\";\r\n\r\nfunction Feed({ user }) {\r\n  const [posts, setPosts] = useState([]);\r\n\r\n  /// useEffect -> runs a piece of code baded on a specific condition\r\n  useEffect(() => {\r\n    // this is where the code runs\r\n    db.collection(\"posts\").onSnapshot((snapshot) => {\r\n      setPosts(snapshot.docs.map((doc) => ({ id: doc.id, post: doc.data() })));\r\n    });\r\n  }, []);\r\n  return (\r\n    <div className=\"feed\">\r\n      <div className=\"feed__posts\">\r\n        {posts.map(({ id, post }) => (\r\n          <Post\r\n            key={id}\r\n            id={id}\r\n            userProfileUrl={post.userProfileUrl}\r\n            userName={post.userName}\r\n            postImageUrl={post.postImageUrl}\r\n            caption={post.caption}\r\n            comments={post.comments}\r\n            user={user}\r\n          />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Feed;\r\n","import React from \"react\";\r\nimport AuthDialogs from \"../../authModal\";\r\nimport { auth } from \"../../firebase\";\r\nimport { Menu, MenuItem } from \"@material-ui/core\";\r\nimport \"./Header.css\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\n\r\nfunction Header({ user }) {\r\n  const [anchorEl, setAnchorEl] = React.useState(null);\r\n\r\n  const handleClick = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  return (\r\n    <div className=\"header\">\r\n      <img\r\n        className=\"header__LeftLogo\"\r\n        src=\"http://bizweb.dktcdn.net/thumb/grande/100/343/398/products/download-94a10140-7042-4f87-88c0-dbaed413dcef.jpg?v=1567497298410\"\r\n        alt=\"\"\r\n      />\r\n      {user ? (\r\n        <div className=\"header__Right\">\r\n          {/* <button className=\"button\" onClick={() => auth.signOut()}>\r\n            \r\n          </button> */}\r\n\r\n          <Avatar\r\n            className=\"header__RightProfileImg\"\r\n            onClick={handleClick}\r\n            style={{ height: \"25px\", width: \"25px\" }}\r\n          >\r\n            {user.displayName?.charAt(0)}\r\n          </Avatar>\r\n\r\n          <Menu\r\n            id=\"simple-menu\"\r\n            anchorEl={anchorEl}\r\n            keepMounted\r\n            open={Boolean(anchorEl)}\r\n            onClose={handleClose}\r\n          >\r\n            {/* <MenuItem onClick={handleClose}>Profile</MenuItem>\r\n            <MenuItem onClick={handleClose}>My account</MenuItem> */}\r\n            <MenuItem onClick={() => auth.signOut()}>Đăng Xuất</MenuItem>\r\n          </Menu>\r\n        </div>\r\n      ) : (\r\n        <AuthDialogs label=\"Đăng Nhập/Đăng Ký\" />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import React, { useState } from \"react\";\r\nimport { storage, db } from \"../../firebase\";\r\nimport firebase from \"firebase\";\r\nimport \"./CreatePost.css\";\r\nimport CameraAltIcon from \"@material-ui/icons/CameraAlt\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport AuthDialogs from \"../../authModal\";\r\n\r\nfunction CreatePost({ user }) {\r\n  const [caption, setCaption] = useState(\"\");\r\n  const [image, setImage] = useState(null);\r\n  const [progress, setProgress] = useState(0);\r\n\r\n  const handleChange = (e) => {\r\n    if (e.target.files[0]) {\r\n      setImage(e.target.files[0]);\r\n      var src1 = URL.createObjectURL(e.target.files[0]);\r\n      var preview1 = document.getElementById(\"image-1-preview\");\r\n      preview1.src = src1;\r\n      preview1.style.display = \"block\";\r\n    }\r\n  };\r\n\r\n  const handleUpload = () => {\r\n    if (image) {\r\n      const uploadTask = storage.ref(`images/${image.name}`).put(image);\r\n\r\n      uploadTask.on(\r\n        \"state_changed\",\r\n        (snapshot) => {\r\n          // progress function .....\r\n          const progress = Math.round(\r\n            (snapshot.bytesTransferred / snapshot.totalBytes) * 100\r\n          );\r\n          setProgress(progress);\r\n        },\r\n        (error) => {\r\n          // Error function...\r\n          console.log(error);\r\n          alert(error.message);\r\n        },\r\n        () => {\r\n          // upload complete function\r\n          storage\r\n            .ref(\"images\")\r\n            .child(image.name)\r\n            .getDownloadURL()\r\n            .then((url) => {\r\n              db.collection(\"posts\").add({\r\n                timestamp: firebase.firestore.FieldValue.serverTimestamp(),\r\n                caption: caption,\r\n                postImageUrl: url,\r\n                userName: user.displayName.toLowerCase(),\r\n                userProfileUrl:\r\n                  \"https://avatars0.githubusercontent.com/u/55942632?s=460&u=f702a3d87d1f9c125f1ead9b3bec93d26cd3b3a0&v=4\",\r\n              });\r\n            });\r\n\r\n          setProgress(0);\r\n          setCaption(\"\");\r\n          setImage(null);\r\n          var preview1 = document.getElementById(\"image-1-preview\");\r\n          preview1.style.display = \"none\";\r\n        }\r\n      );\r\n    }else{\r\n      db.collection(\"posts\").add({\r\n        timestamp: firebase.firestore.FieldValue.serverTimestamp(),\r\n        caption: caption,\r\n        postImageUrl: \"https://firebasestorage.googleapis.com/v0/b/social-net-58b1b.appspot.com/o/Confession%20%C4%90%E1%BA%B7c%20Bi%E1%BB%87t.png?alt=media&token=e06953e1-158c-49f0-89b2-23d5ef6bbeb4\",\r\n        userName: user.displayName.toLowerCase(),\r\n        userProfileUrl:\r\n          \"https://avatars0.githubusercontent.com/u/55942632?s=460&u=f702a3d87d1f9c125f1ead9b3bec93d26cd3b3a0&v=4\",\r\n      });\r\n      setProgress(0);\r\n          setCaption(\"\");\r\n          setImage(null);\r\n          var preview1 = document.getElementById(\"image-1-preview\");\r\n          preview1.style.display = \"none\";\r\n    }\r\n  };\r\n\r\n  const removeImage = () => {\r\n    var preview1 = document.getElementById(\"image-1-preview\");\r\n    preview1.style.display = \"none\";\r\n  };\r\n\r\n  return (\r\n    <div className=\"app__createPost\">\r\n      {user ? (\r\n        <div className=\"imageUpload\">\r\n          <div className=\"createAPost__Top\">\r\n            <p>Viết Confession tại đây</p>\r\n          </div>\r\n          {/* <progress value={progress} max=\"100\" /> */}\r\n\r\n          <div className=\"createAPost__center\">\r\n            <textarea\r\n              className=\"createAPost__textarea\"\r\n              name=\"create a post\"\r\n              rows=\"2\"\r\n              value={caption}\r\n              placeholder=\"Enter a caption...\"\r\n              onChange={(e) => setCaption(e.target.value)}\r\n            ></textarea>\r\n            <div className=\"imagePreview\">\r\n              <img onClick={() => removeImage()} id=\"image-1-preview\" alt=\"\" />\r\n              {progress === 0 ? (\r\n                <></>\r\n              ) : (\r\n                <CircularProgress\r\n                  className=\"circularProgress\"\r\n                  variant=\"determinate\"\r\n                  value={progress}\r\n                />\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"imageUpload__bottom\">\r\n            <div className=\"image-upload\">\r\n              <label htmlFor=\"file-input\">\r\n                <CameraAltIcon style={{ marginTop: \"5px\" }} />\r\n              </label>\r\n\r\n              <input\r\n                id=\"file-input\"\r\n                type=\"file\"\r\n                accept=\"image/*\"\r\n                onChange={handleChange}\r\n              />\r\n            </div>\r\n\r\n            <button\r\n              className=\"button\"\r\n              onClick={handleUpload}\r\n              style={{\r\n                color: caption ? \"gray\" : \"lightgrey\",\r\n                fontWeight: caption ? \"600\" : \"500\",\r\n              }}\r\n            >\r\n              Upload\r\n            </button>\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        <div\r\n          style={{\r\n            marginTop: \"30px\",\r\n            display: \"flex\",\r\n            flexDirection: \"row\",\r\n            justifyContent: \"center\",\r\n            alignItems: \"center\",\r\n          }}\r\n        >\r\n          <AuthDialogs label=\"Đăng Nhập/Đăng ký\" />\r\n          <p>để viết Confession và Comment</p>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default CreatePost;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Feed from \"./Components/Feed\";\r\nimport { auth } from \"../firebase\";\r\nimport Header from \"../Views/Components/Header\";\r\nimport CreatePost from \"../Views/Components/CreatePost\";\r\n\r\nfunction Home() {\r\n  const [user, setUser] = useState(null);\r\n  useEffect(() => {\r\n    const unsubscribe = auth.onAuthStateChanged((authUser) => {\r\n      if (authUser) {\r\n        // user has logged in...\r\n        console.log(authUser);\r\n        setUser(authUser);\r\n        console.log(\"user has logged in\");\r\n      } else {\r\n        // user has logged out..\r\n        setUser(null);\r\n        console.log(\"user has logged out\");\r\n      }\r\n    });\r\n\r\n    return () => {\r\n      // perform some cleanup actions\r\n      unsubscribe();\r\n    };\r\n  }, []);\r\n  return (\r\n    <div className=\"home\">\r\n      <Header user={user} />\r\n\r\n      <div className=\"app__body\">\r\n        {/* Upload Option */}\r\n        <CreatePost user={user} />\r\n\r\n        <Feed user={user} />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Home;\r\n","import React from \"react\";\r\nimport \"./App.css\";\r\nimport Home from \"./Views/Home\";\r\n\r\nfunction App() {\r\n  return (\r\n    <div className=\"app\">\r\n      <Home />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}